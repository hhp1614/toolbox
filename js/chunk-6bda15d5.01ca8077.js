(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bda15d5"],{"0b25":function(e,t,n){var r=n("a691"),a=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw RangeError("Wrong length or index");return n}},2626:function(e,t,n){"use strict";var r=n("d066"),a=n("9bf2"),i=n("b622"),c=n("83ab"),o=i("species");e.exports=function(e){var t=r(e),n=a.f;c&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},5319:function(e,t,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),c=n("50c4"),o=n("a691"),u=n("1d80"),s=n("8aa5"),l=n("14c3"),f=Math.max,h=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=r.REPLACE_KEEPS_$0,w=m?"$":"$0";return[function(n,r){var a=u(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a,r):t.call(String(a),n,r)},function(e,r){if(!m&&b||"string"===typeof r&&-1===r.indexOf(w)){var i=n(t,e,this,r);if(i.done)return i.value}var u=a(e),d=String(this),p="function"===typeof r;p||(r=String(r));var v=u.global;if(v){var I=u.unicode;u.lastIndex=0}var x=[];while(1){var U=l(u,d);if(null===U)break;if(x.push(U),!v)break;var k=String(U[0]);""===k&&(u.lastIndex=s(d,c(u.lastIndex),I))}for(var R="",L=0,O=0;O<x.length;O++){U=x[O];for(var _=String(U[0]),j=f(h(o(U.index),d.length),0),C=[],S=1;S<U.length;S++)C.push(g(U[S]));var P=U.groups;if(p){var B=[_].concat(C,j,d);void 0!==P&&B.push(P);var E=String(r.apply(void 0,B))}else E=y(_,d,j,C,P,r);j>=L&&(R+=d.slice(L,j)+E,L=j+_.length)}return R+d.slice(L)}];function y(e,n,r,a,c,o){var u=r+e.length,s=a.length,l=v;return void 0!==c&&(c=i(c),l=p),t.call(o,l,(function(t,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":o=c[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>s){var f=d(l/10);return 0===f?t:f<=s?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):t}o=a[l-1]}return void 0===o?"":o}))}}))},"621a":function(e,t,n){"use strict";var r=n("da84"),a=n("83ab"),i=n("a981"),c=n("9112"),o=n("e2cc"),u=n("d039"),s=n("19aa"),l=n("a691"),f=n("50c4"),h=n("0b25"),d=n("77a7"),p=n("e163"),v=n("d2bb"),g=n("241c").f,m=n("9bf2").f,b=n("81d5"),w=n("d44e"),y=n("69f3"),I=y.get,x=y.set,U="ArrayBuffer",k="DataView",R="prototype",L="Wrong length",O="Wrong index",_=r[U],j=_,C=r[k],S=C&&C[R],P=Object.prototype,B=r.RangeError,E=d.pack,A=d.unpack,z=function(e){return[255&e]},T=function(e){return[255&e,e>>8&255]},$=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},M=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},N=function(e){return E(e,23,4)},F=function(e){return E(e,52,8)},D=function(e,t){m(e[R],t,{get:function(){return I(this)[t]}})},W=function(e,t,n,r){var a=h(n),i=I(e);if(a+t>i.byteLength)throw B(O);var c=I(i.buffer).bytes,o=a+i.byteOffset,u=c.slice(o,o+t);return r?u:u.reverse()},V=function(e,t,n,r,a,i){var c=h(n),o=I(e);if(c+t>o.byteLength)throw B(O);for(var u=I(o.buffer).bytes,s=c+o.byteOffset,l=r(+a),f=0;f<t;f++)u[s+f]=l[i?f:t-f-1]};if(i){if(!u((function(){_(1)}))||!u((function(){new _(-1)}))||u((function(){return new _,new _(1.5),new _(NaN),_.name!=U}))){j=function(e){return s(this,j),new _(h(e))};for(var q,H=j[R]=_[R],J=g(_),G=0;J.length>G;)(q=J[G++])in j||c(j,q,_[q]);H.constructor=j}v&&p(S)!==P&&v(S,P);var K=new C(new j(2)),X=S.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||o(S,{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},{unsafe:!0})}else j=function(e){s(this,j,U);var t=h(e);x(this,{bytes:b.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},C=function(e,t,n){s(this,C,k),s(e,j,k);var r=I(e).byteLength,i=l(t);if(i<0||i>r)throw B("Wrong offset");if(n=void 0===n?r-i:f(n),i+n>r)throw B(L);x(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},a&&(D(j,"byteLength"),D(C,"buffer"),D(C,"byteLength"),D(C,"byteOffset")),o(C[R],{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return M(W(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return M(W(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return A(W(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return A(W(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,z,t)},setUint8:function(e,t){V(this,1,e,z,t)},setInt16:function(e,t){V(this,2,e,T,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,T,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});w(j,U),w(C,k),e.exports={ArrayBuffer:j,DataView:C}},"77a7":function(e,t){var n=1/0,r=Math.abs,a=Math.pow,i=Math.floor,c=Math.log,o=Math.LN2,u=function(e,t,u){var s,l,f,h=new Array(u),d=8*u-t-1,p=(1<<d)-1,v=p>>1,g=23===t?a(2,-24)-a(2,-77):0,m=e<0||0===e&&1/e<0?1:0,b=0;for(e=r(e),e!=e||e===n?(l=e!=e?1:0,s=p):(s=i(c(e)/o),e*(f=a(2,-s))<1&&(s--,f*=2),e+=s+v>=1?g/f:g*a(2,1-v),e*f>=2&&(s++,f/=2),s+v>=p?(l=0,s=p):s+v>=1?(l=(e*f-1)*a(2,t),s+=v):(l=e*a(2,v-1)*a(2,t),s=0));t>=8;h[b++]=255&l,l/=256,t-=8);for(s=s<<t|l,d+=t;d>0;h[b++]=255&s,s/=256,d-=8);return h[--b]|=128*m,h},s=function(e,t){var r,i=e.length,c=8*i-t-1,o=(1<<c)-1,u=o>>1,s=c-7,l=i-1,f=e[l--],h=127&f;for(f>>=7;s>0;h=256*h+e[l],l--,s-=8);for(r=h&(1<<-s)-1,h>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===h)h=1-u;else{if(h===o)return r?NaN:f?-n:n;r+=a(2,t),h-=u}return(f?-1:1)*r*a(2,h-t)};e.exports={pack:u,unpack:s}},"81d5":function(e,t,n){"use strict";var r=n("7b0b"),a=n("23cb"),i=n("50c4");e.exports=function(e){var t=r(this),n=i(t.length),c=arguments.length,o=a(c>1?arguments[1]:void 0,n),u=c>2?arguments[2]:void 0,s=void 0===u?n:a(u,n);while(s>o)t[o++]=e;return t}},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},c19f:function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),i=n("621a"),c=n("2626"),o="ArrayBuffer",u=i[o],s=a[o];r({global:!0,forced:s!==u},{ArrayBuffer:u}),c(o)},e1b6:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mdui-row"},[n("div",{staticClass:"mdui-m-y-2"},[n("input",{attrs:{type:"file",id:"select-image",accept:"image/*",hidden:""},on:{change:e.selectImage}}),n("label",{staticClass:"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme",attrs:{for:"select-image"}},[e._v(" 选择图片 ")]),e.file?[n("mdui-btn",{staticClass:"mdui-m-l-2",attrs:{color:"red-600",raised:"",ripple:""},on:{click:function(t){return e.acUpdateFile(null)}}},[n("mdui-icon",{attrs:{type:"delete"}}),e._v(" 删除图片 ")],1),n("div",{staticClass:"mdui-chip mdui-m-l-2"},[n("span",{staticClass:"mdui-chip-icon mdui-color-red-600"},[n("mdui-icon",{attrs:{type:"attach_file"}})],1),n("span",{staticClass:"mdui-chip-title"},[e._v(e._s(e.file.name))])]),n("div",{staticClass:"mdui-chip mdui-m-l-2"},[n("span",{staticClass:"mdui-chip-icon mdui-color-yellow-600"},[n("mdui-icon",{attrs:{type:"crop_free"}})],1),n("span",{staticClass:"mdui-chip-title"},[e._v(e._s(e._f("fileSize")(e.file.size)))])]),n("div",{staticClass:"mdui-chip mdui-m-l-2"},[n("span",{staticClass:"mdui-chip-icon mdui-color-green-600"},[n("mdui-icon",{attrs:{type:"insert_drive_file"}})],1),n("span",{staticClass:"mdui-chip-title"},[e._v(e._s(e.file.type))])])]:e._e()],2),n("div",{staticClass:"mdui-m-t-2"},[e._v(" 尺寸： "),e._l(e.sizeList,(function(t){return n("mdui-checkbox",{key:t,attrs:{label:t,value:t,checked:e.size},on:{change:e.acUpdateSize}})}))],2),n("div",{staticClass:"mdui-m-t-2"},[e._v(" 形状： "),e._l(e.shapeList,(function(t){return n("mdui-radio",{key:t.value,attrs:{label:t.name,value:t.value,checked:e.shape},on:{change:e.changeShape}})})),n("br"),e._v(" 留白： "),n("mdui-checkbox",{attrs:{"mdui-tooltip":"{content: '此选项只在形状为“圆角矩形”时生效', position: 'right'}",label:"启用",checked:e.bleed,disabled:"fillet"!==e.shape},on:{change:e.acUpdateBleed}})],2),e.blobURL?n("img",{staticClass:"mdui-shadow-3",staticStyle:{"max-height":"200px","max-width":"100%"},attrs:{alt:"预览图片",src:e.blobURL}}):n("paste-image",{on:{paste:e.pasteImage}}),n("div",{staticClass:"mdui-m-t-2"},[n("mdui-btn",{staticClass:"mdui-m-r-2",attrs:{color:"theme-accent",disabled:!e.file,raised:"",ripple:""},on:{click:e.convert}},[e._v("转换")]),e.icoUrl?n("mdui-btn",{staticClass:"mdui-m-r-2",attrs:{color:"theme",raised:"",ripple:""},on:{click:function(){return e.$refs.download.click()}}},[e._v(" 下载 ")]):e._e()],1),e.icoUrl?n("div",{staticClass:"mdui-m-t-2"},[n("label",{staticClass:"mdui-textfield-label"},[e._v("效果预览")]),n("img",{staticClass:"mdui-shadow-3",attrs:{alt:"效果预览",src:e.icoUrl}})]):e._e(),n("a",{ref:"download",staticStyle:{display:"none"},attrs:{href:e.icoUrl,download:e.icoName}})],1)},a=[],i=(n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),c=n("5530"),o=n("2f62"),u=(n("c19f"),n("a4d3"),n("e01a"),n("d28b"),n("06c5"));function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(u["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(o)throw i}}}}var l=n("d4ec"),f=n("bee2"),h=function(){function e(){Object(l["a"])(this,e)}return Object(f["a"])(e,[{key:"createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=e,t.height=e,t}},{key:"converImageURL",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=10;break}return e.next=3,fetch(t,{method:"get"});case 3:return a=e.sent,e.next=6,a.blob();case 6:i=e.sent,n(URL.createObjectURL(i)),e.next=11;break;case 10:t instanceof File?n(URL.createObjectURL(t)):r("参数 `opt.source` 无法识别");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"drawImage",value:function(e,t,n,r){var a,i,c=e.getContext("2d");if(!c)return console.error("`ctx` 为空");if(c.clearRect(0,0,e.width,e.height),t.naturalWidth<t.naturalHeight?(a=e.width,i=a/t.naturalWidth*t.naturalHeight):(i=e.height,a=i/t.naturalHeight*t.naturalWidth),"square"===n&&c.drawImage(t,0,0,a,i),"circle"===n){var o=e.width/2;c.save(),c.beginPath(),c.arc(o,o,o,0,2*Math.PI,!1),c.clip(),c.drawImage(t,0,0,a,i),c.restore()}if("fillet"===n){var u=0,s=0;if(r&&e.width>16){var l=10/256;u=s=Math.ceil(l*e.width)}var f=e.width-2*u,h=e.height-2*s,d=Math.floor(f/8);c.beginPath(),c.moveTo(u+d,s),c.arcTo(u+f,s,u+f,s+h,d),c.arcTo(u+f,s+h,u,s+h,d),c.arcTo(u,s+h,u,s,d),c.arcTo(u,s,u+f,s,d),c.closePath(),c.clip(),c.drawImage(t,0,0,a,i)}return c}},{key:"getPngBlob",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.toBlob((function(e){e?n(e):r("`blob` 为空")}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadImage",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.converImageURL(t);case 2:a=e.sent,i=document.createElement("img"),i.src=a,i.onload=function(){return r(i)};case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPngBuffer",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[16,48,96,256],r=o.length>2&&void 0!==o[2]?o[2]:"square",a=!(o.length>3&&void 0!==o[3])||o[3],e.abrupt("return",new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(i){var o,u,s,l,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=[],u=n.length;case 2:if(!(u>0)){e.next=17;break}return s=n[n.length-u],l=c.createCanvas(s),c.drawImage(l,t,r,a),e.next=8,c.getPngBlob(l);case 8:return f=e.sent,e.next=11,f.arrayBuffer();case 11:h=e.sent,o.push({size:s,buffer:h}),u--,0===u&&i(o),e.next=2;break;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createIcon",value:function(e){var t=[],n=6,r=new ArrayBuffer(n),a=new DataView(r);a.setInt16(0,0,!0),a.setInt16(2,1,!0),a.setInt16(4,e.length,!0),t.push(r);var i,c=16,o=c*e.length,u=n+o,l=0,f=s(e);try{for(f.s();!(i=f.n()).done;){var h=i.value;u+=l;var d=new ArrayBuffer(c),p=new DataView(d);p.setInt8(0,h.size),p.setInt8(1,h.size),p.setInt8(2,0),p.setInt8(3,0),p.setInt16(4,1,!0),p.setInt16(6,32,!0),p.setInt32(8,h.buffer.byteLength,!0),p.setInt32(12,u,!0),t.push(d),l=h.buffer.byteLength}}catch(b){f.e(b)}finally{f.f()}var v,g=s(e);try{for(g.s();!(v=g.n()).done;){var m=v.value;t.push(m.buffer)}}catch(b){g.e(b)}finally{g.f()}return new Blob(t,{type:"image/vnd.microsoft.icon"})}}]),e}(),d=function(){function e(){Object(l["a"])(this,e)}return Object(f["a"])(e,[{key:"convert",value:function(e){return new Promise(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new h,t.next=3,r.loadImage(e.source);case 3:return a=t.sent,t.next=6,r.createPngBuffer(a,e.size,e.shape,e.bleed);case 6:i=t.sent,c=r.createIcon(i),n(c);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),p=new d,v={name:"PngToIco",data:function(){return{sizeList:[16,32,48,96,128,256,512],shapeList:[{value:"square",name:"正方形"},{value:"circle",name:"圆形"},{value:"fillet",name:"圆角矩形"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(o["d"])("image/pngToIco",["file","size","shape","bleed","icoUrl","icoName"])),{},{blobURL:function(){return this.file?window.URL.createObjectURL(this.file):""}}),methods:Object(c["a"])(Object(c["a"])({},Object(o["b"])("image/pngToIco",["acUpdateFile","acUpdateSize","acUpdateShape","acUpdateBleed","acUpdateIcoURL","acUpdateIcoName"])),{},{selectImage:function(e){this.acUpdateFile(e.target.files[0])},pasteImage:function(e){this.acUpdateFile(e)},changeShape:function(e){this.acUpdateShape(e),"fillet"!==this.shape&&this.acUpdateBleed(!1)},convert:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.convert({source:e.file,size:e.size,shape:e.shape,bleed:e.bleed});case 2:n=t.sent,e.acUpdateIcoURL(URL.createObjectURL(n)),e.acUpdateIcoName(e.file.name.replace(/\.\w+$/,".ico"));case 5:case"end":return t.stop()}}),t)})))()}})},g=v,m=n("2877"),b=Object(m["a"])(g,r,a,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-6bda15d5.01ca8077.js.map