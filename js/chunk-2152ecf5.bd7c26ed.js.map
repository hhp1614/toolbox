{"version":3,"sources":["webpack:///./src/views/image/DataUri.vue?f22e","webpack:///src/views/image/DataUri.vue","webpack:///./src/views/image/DataUri.vue?74f1","webpack:///./src/views/image/DataUri.vue","webpack:///./node_modules/js-base64/base64.mjs"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","_v","on","selectImage","_s","file","name","_f","size","type","_e","staticStyle","blobURL","getDataURI","model","value","callback","$$v","dataURI","expression","inputURI","checkURI","imgURI","loadError","staticRenderFns","data","tab","computed","window","URL","createObjectURL","mounted","$Tab","$refs","methods","e","target","files","fr","readAsBinaryString","onload","test","$snackbar","component","version","VERSION","_hasBuffer","Buffer","_hasatob","atob","_hasbtoa","btoa","_fromCharCode","String","fromCharCode","bind","_U8Afrom","Uint8Array","from","it","fn","x","Array","prototype","slice","call","map","_mkUriSafe","src","replace","m0","_tidyB64","s","_btoa","toString","match","RangeError","fromUint8Array","c","charCodeAt","_fromUint8Array","u8a","maxargs","strs","i","l","length","push","apply","subarray","join","rfc4648","utob","unescape","encodeURIComponent","_encode","encode","encodeURI","btou","decodeURIComponent","escape","_atob","a","ReferenceError","_decode","_unURI","decode","toUint8Array","_noEnum","v","enumerable","writable","configurable","extendString","_add","body","Object","defineProperty","extendUint8Array","extendBuiltins","gBase64","fromBase64","toBase64","encodeURL"],"mappings":"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","file":"js/chunk-2152ecf5.bd7c26ed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mdui-row\"},[_c('div',{ref:\"tab\",staticClass:\"mdui-tab\"},[_c('a',{staticClass:\"mdui-ripple\",attrs:{\"href\":\"#image2uri\"}},[_vm._v(\"图片转 URI\")]),_c('a',{staticClass:\"mdui-ripple\",attrs:{\"href\":\"#uri2image\"}},[_vm._v(\"URI 转图片\")])]),_c('div',{attrs:{\"id\":\"image2uri\"}},[_c('div',{staticClass:\"mdui-m-y-2\"},[_c('input',{attrs:{\"type\":\"file\",\"id\":\"select-image\",\"accept\":\"image/*\",\"hidden\":\"\"},on:{\"change\":_vm.selectImage}}),_c('label',{staticClass:\"mdui-btn mdui-btn-raised mdui-ripple\",attrs:{\"for\":\"select-image\"}},[_vm._v(\" 选择图片 \")]),(_vm.file)?[_c('div',{staticClass:\"mdui-chip mdui-m-l-2\"},[_c('span',{staticClass:\"mdui-chip-icon mdui-color-red-600\"},[_c('mdui-icon',{attrs:{\"type\":\"attach_file\"}})],1),_c('span',{staticClass:\"mdui-chip-title\"},[_vm._v(_vm._s(_vm.file.name))])]),_c('div',{staticClass:\"mdui-chip mdui-m-l-2\"},[_c('span',{staticClass:\"mdui-chip-icon mdui-color-yellow-600\"},[_c('mdui-icon',{attrs:{\"type\":\"crop_free\"}})],1),_c('span',{staticClass:\"mdui-chip-title\"},[_vm._v(_vm._s(_vm._f(\"fileSize\")(_vm.file.size)))])]),_c('div',{staticClass:\"mdui-chip mdui-m-l-2\"},[_c('span',{staticClass:\"mdui-chip-icon mdui-color-green-600\"},[_c('mdui-icon',{attrs:{\"type\":\"insert_drive_file\"}})],1),_c('span',{staticClass:\"mdui-chip-title\"},[_vm._v(_vm._s(_vm.file.type))])])]:_vm._e()],2),(_vm.blobURL)?_c('img',{staticClass:\"mdui-shadow-3\",staticStyle:{\"max-height\":\"200px\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.blobURL,\"alt\":\"预览图片\"}}):_vm._e(),_c('div',{staticClass:\"mdui-m-y-2\"},[_c('mdui-btn',{staticClass:\"mdui-m-r-2\",attrs:{\"color\":\"theme-accent\",\"disabled\":!_vm.file,\"raised\":\"\",\"ripple\":\"\"},on:{\"click\":_vm.getDataURI}},[_c('mdui-icon',{attrs:{\"type\":\"keyboard_arrow_down\"}}),_vm._v(\"转换 \")],1)],1),_c('editor',{staticClass:\"line-10\",attrs:{\"label\":\"Data URI\",\"line-numbers\":false,\"read-only\":\"\"},model:{value:(_vm.dataURI),callback:function ($$v) {_vm.dataURI=$$v},expression:\"dataURI\"}})],1),_c('div',{attrs:{\"id\":\"uri2image\"}},[_c('editor',{staticClass:\"line-10\",attrs:{\"label\":\"Data URI\",\"line-numbers\":false},model:{value:(_vm.inputURI),callback:function ($$v) {_vm.inputURI=$$v},expression:\"inputURI\"}}),_c('div',{staticClass:\"mdui-m-y-2\"},[_c('mdui-btn',{staticClass:\"mdui-m-r-2\",attrs:{\"color\":\"theme-accent\",\"disabled\":!_vm.file,\"raised\":\"\",\"ripple\":\"\"},on:{\"click\":_vm.checkURI}},[_c('mdui-icon',{attrs:{\"type\":\"keyboard_arrow_down\"}}),_vm._v(\"转换 \")],1)],1),(_vm.imgURI)?_c('img',{staticClass:\"mdui-shadow-3\",staticStyle:{\"max-height\":\"200px\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.imgURI,\"alt\":\"预览图片\"},on:{\"error\":_vm.loadError}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mdui-row\">\n    <div ref=\"tab\" class=\"mdui-tab\">\n      <a href=\"#image2uri\" class=\"mdui-ripple\">图片转 URI</a>\n      <a href=\"#uri2image\" class=\"mdui-ripple\">URI 转图片</a>\n    </div>\n    <!-- 图片转 URI -->\n    <div id=\"image2uri\">\n      <div class=\"mdui-m-y-2\">\n        <input type=\"file\" id=\"select-image\" accept=\"image/*\" @change=\"selectImage\" hidden />\n        <label for=\"select-image\" class=\"mdui-btn mdui-btn-raised mdui-ripple\">\n          选择图片\n        </label>\n        <template v-if=\"file\">\n          <div class=\"mdui-chip mdui-m-l-2\">\n            <span class=\"mdui-chip-icon mdui-color-red-600\">\n              <mdui-icon type=\"attach_file\" />\n            </span>\n            <span class=\"mdui-chip-title\">{{ file.name }}</span>\n          </div>\n          <div class=\"mdui-chip mdui-m-l-2\">\n            <span class=\"mdui-chip-icon mdui-color-yellow-600\">\n              <mdui-icon type=\"crop_free\" />\n            </span>\n            <span class=\"mdui-chip-title\">{{ file.size | fileSize }}</span>\n          </div>\n          <div class=\"mdui-chip mdui-m-l-2\">\n            <span class=\"mdui-chip-icon mdui-color-green-600\">\n              <mdui-icon type=\"insert_drive_file\" />\n            </span>\n            <span class=\"mdui-chip-title\">{{ file.type }}</span>\n          </div>\n        </template>\n      </div>\n      <img\n        v-if=\"blobURL\"\n        :src=\"blobURL\"\n        alt=\"预览图片\"\n        style=\"max-height: 200px; max-width: 100%\"\n        class=\"mdui-shadow-3\"\n      />\n      <div class=\"mdui-m-y-2\">\n        <mdui-btn class=\"mdui-m-r-2\" color=\"theme-accent\" @click=\"getDataURI\" :disabled=\"!file\" raised ripple>\n          <mdui-icon type=\"keyboard_arrow_down\" />转换\n        </mdui-btn>\n      </div>\n      <editor class=\"line-10\" v-model=\"dataURI\" label=\"Data URI\" :line-numbers=\"false\" read-only />\n    </div>\n    <!-- URI 转图片 -->\n    <div id=\"uri2image\">\n      <editor class=\"line-10\" v-model=\"inputURI\" label=\"Data URI\" :line-numbers=\"false\" />\n      <div class=\"mdui-m-y-2\">\n        <mdui-btn class=\"mdui-m-r-2\" color=\"theme-accent\" @click=\"checkURI\" :disabled=\"!file\" raised ripple>\n          <mdui-icon type=\"keyboard_arrow_down\" />转换\n        </mdui-btn>\n      </div>\n      <img\n        v-if=\"imgURI\"\n        :src=\"imgURI\"\n        alt=\"预览图片\"\n        style=\"max-height: 200px; max-width: 100%\"\n        class=\"mdui-shadow-3\"\n        @error=\"loadError\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Base64 } from 'js-base64'\n\nexport default {\n  name: 'DataUri',\n  data() {\n    return {\n      tab: null,\n      file: null,\n      dataURI: '',\n      inputURI: '',\n      imgURI: ''\n    }\n  },\n  computed: {\n    blobURL() {\n      return this.file ? window.URL.createObjectURL(this.file) : ''\n    }\n  },\n  mounted() {\n    this.tab = new this.$Tab(this.$refs.tab)\n  },\n  methods: {\n    // 选择图片\n    selectImage(e) {\n      this.file = e.target.files[0]\n    },\n    // 图片转换成 URI\n    getDataURI() {\n      const fr = new FileReader()\n      fr.readAsBinaryString(this.file)\n      fr.onload = () => {\n        this.dataURI = `data:${this.file.type};base64,${Base64.btoa(String(fr.result))}`\n      }\n    },\n    // DataURI 转换成图片\n    checkURI() {\n      if (/^data:image\\/.+;base64,/.test(this.inputURI)) {\n        this.imgURI = this.inputURI\n        return\n      }\n      this.$snackbar('Data URI 格式错误')\n    },\n    // 图片加载失败\n    loadError() {\n      this.imgURI = ''\n      this.$snackbar('Data URI 无法解析')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataUri.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataUri.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataUri.vue?vue&type=template&id=30f4c9a8&\"\nimport script from \"./DataUri.vue?vue&type=script&lang=js&\"\nexport * from \"./DataUri.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.4.1';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasBuffer = typeof Buffer === 'function';\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _fromCharCode = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it, fn = (x) => x) => new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));\nconst _mkUriSafe = (src) => src\n    .replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_')\n    .replace(/=+$/m, '');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * does what `window.btoa` of web browsers does.\n * @param {String} src binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? (s) => btoa(s)\n    : _hasBuffer\n        ? (s) => Buffer.from(s, 'binary').toString('base64')\n        : (s) => {\n            if (s.match(/[^\\x00-\\xFF]/))\n                throw new RangeError('The string contains invalid characters.');\n            return fromUint8Array(_U8Afrom(s, c => c.charCodeAt(0)));\n        };\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCharCode.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [rfc4648] URL-and-filename-safe a la RFC4648\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, rfc4648 = false) => rfc4648 ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (src) => unescape(encodeURIComponent(src));\n/**\n *\n */\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [rfc4648] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, rfc4648 = false) => rfc4648 ? _mkUriSafe(_encode(src)) : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (src) => decodeURIComponent(escape(src));\n/**\n * does what `window.atob` of web browsers does.\n * @param {String} src Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? (a) => atob(_tidyB64(a))\n    : _hasBuffer ? (a) => Buffer.from(a, 'base64').toString('binary')\n        : (a) => {\n            throw ReferenceError('neither `atob` nor `Buffer` is available ');\n        };\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(_unURI(a), 'base64'))\n    : (a) => _U8Afrom(_atob(_unURI(a)), c => c.charCodeAt(0));\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () {\n        return decode(this);\n    });\n    _add('toBase64', function (rfc4648) {\n        return encode(this, rfc4648);\n    });\n    _add('toBase64URI', function () {\n        return encode(this, true);\n    });\n    _add('toBase64URL', function () {\n        return encode(this, true);\n    });\n    _add('toUint8Array', function () {\n        return toUint8Array(this);\n    });\n};\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (rfc4648) {\n        return fromUint8Array(this, rfc4648);\n    });\n    _add('toBase64URI', function () {\n        return fromUint8Array(this, true);\n    });\n    _add('toBase64URL', function () {\n        return fromUint8Array(this, true);\n    });\n};\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    btoa: _btoa,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { _btoa as btoa };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n"],"sourceRoot":""}